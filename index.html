<!DOCTYPE html>
<meta charset="utf-8">
<style>
.overlay {
  fill: none;
  pointer-events: all;
}
.mesh {
  fill: none;
  stroke: #000;
  stroke-width: .25px;
}

.start {
  fill: none;
  stroke: brown;
}

.end {
  fill: none;
  stroke: steelblue;
}

</style>
<body>
<script src="//d3js.org/d3.v3.min.js"></script>
<script src="d3.hexbin.min.js"></script>
<script>

var margin = {top: -5, right: -5, bottom: -5, left: -5},
    width = 960 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;
    radius = 20;

var p0 = [250, 200, 60],
    p1 = [560, 300, 120];

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
  .append("g")
    .call(d3.behavior.zoom().scaleExtent([1, 10]).on("zoom", zoom))
  .append("g");

svg.append("rect")
    .attr("class", "overlay")
    .attr("width", width)
    .attr("height", height);

svg.append("path")
    .attr("class", "mesh")
    .attr("d", d3.hexbin()
      .size([width, height])
      .radius(radius)
      .mesh);

svg.selectAll("circle")
    .data([p0, p1])
  .enter().append("circle")
    .attr("class", function(d, i) { return i ? "end" : "start"; })
    .attr("cx", function(d) { return d[0]; })
    .attr("cy", function(d) { return d[1]; })
    .attr("r", function(d) { return d[2] / 2 - .5; });

function zoom() {
  svg.attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
}

</script>
